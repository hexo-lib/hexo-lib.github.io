<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="Tommas">


    <meta name="subtitle" content="Tommas Blog">


    <meta name="description" content="Keep quiet time for time">



<title>10 ç§æœ€å¸¸è§çš„ Javascript é”™è¯¯ | Tommas&#39;s Blog</title>



    <link rel="icon" href="/images/favicon-32x32-next.png">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        
    


<meta name="generator" content="Hexo 7.3.0"></head>

<body>
    <script src="/js/jquery-2.0.3.min.js"></script>
    
<script src="/js/search.js"></script>

    <script type="text/javascript">
        var search_path = "search.xml";
        if (search_path.length == 0) {
            search_path = "search.xml";
        }
        var path = "/" + search_path;
        searchFunc(path, 'local-search-input', 'local-search-result');
        click_time=0;
    </script>
    <script>
        // this function is used to check current theme before page loaded.
        (() => {
            const currentTheme = window.localStorage && window.localStorage.getItem('theme') || '';
            const isDark = currentTheme === 'dark';
            const pagebody = document.getElementsByTagName('body')[0]
            if (isDark) {
                pagebody.classList.add('dark-theme');
                // mobile
                document.getElementById("mobile-toggle-theme").innerText = "Â· Dark"
            } else {
                pagebody.classList.remove('dark-theme');
                // mobile
                document.getElementById("mobile-toggle-theme").innerText = "Â· Light"
            }
        })();
    </script>

    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">Tommas&#39;s Blog</a></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/category">Categories</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
                    <a class="menu-item" href="/index">Site</a>
                
                    <a class="menu-item" href="/links">Links</a>
                
                   <a class="menu-item" onclick="$('#search-page').show(); $('#local-search-input')[0].focus();">Search</a>
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>
        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">Tommas&#39;s Blog</a><a id="mobile-toggle-theme">Â·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/category">Categories</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
                    <a class="menu-item" href="/index">Site</a>
                
                    <a class="menu-item" href="/links">Links</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>

            <div class="main">
        <div style="z-index: 1000; position: fixed; background-color: rgba(0, 0, 0, 0.8);
        top: 0; bottom: 0; left: 0; right: 0; padding: 0 max(50% - 375px,5px); display: none;" id="search-page"
        onclick="if (Date.now()-click_time>=10) { this.style.display='none'; } quitting=1; ">
    <input id="local-search-input" style="height: 24px; position: relative; top: 24px; font-size: 16px;
        width: calc(100% - 50px); color: white; background-color: initial; padding: 12px 23px; border-radius: 5px; border: 2px solid #bbb; outline: 0;"
        onclick="click_time=Date.now()">
    <div id="local-search-result" style="width: 100%; position: relative; top: 24px;
        height: calc(100% - 105px);" onclick="click_time=Date.now()"></div>
</div>

                <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a>
        <a onclick="go_top()">Back to top</a>
        <a onclick="go_bottom()">Go to bottom</a>
    </div>
</div>

<script>
    var tocbot_timer;
    var DEPTH_MAX = 6; // ä¸º 6 æ—¶å±•å¼€æ‰€æœ‰
    var tocbot_default_config = {
        tocSelector: '.tocbot-list',
        contentSelector: '.post-content',
        headingSelector: 'h1, h2, h3, h4, h5',
        orderedList: false,
        scrollSmooth: true,
        onClick: extend_click,
    };

    function extend_click() {
        clearTimeout(tocbot_timer);
        tocbot_timer = setTimeout(function() {
            tocbot.refresh(obj_merge(tocbot_default_config, {
                hasInnerContainers: true
            }));
        }, 420); // è¿™ä¸ªå€¼æ˜¯ç”± tocbot æºç é‡Œå®šä¹‰çš„ scrollSmoothDuration å¾—æ¥çš„
    }

    document.ready(function() {
        tocbot.init(obj_merge(tocbot_default_config, {
            collapseDepth: 1
        }));
    });

    function expand_toc() {
        var b = document.querySelector('.tocbot-toc-expand');
        var expanded = b.getAttribute('data-expanded');
        expanded ? b.removeAttribute('data-expanded') : b.setAttribute('data-expanded', true);
        tocbot.refresh(obj_merge(tocbot_default_config, {
            collapseDepth: expanded ? 1 : DEPTH_MAX
        }));
        b.innerText = expanded ? 'Expand all' : 'Collapse all';
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

    function obj_merge(target, source) {
        for (var item in source) {
            if (source.hasOwnProperty(item)) {
                target[item] = source[item];
            }
        }
        return target;
    }
</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">10 ç§æœ€å¸¸è§çš„ Javascript é”™è¯¯</h1>
            
                <div class="post-meta">
                    
                        Author: <a itemprop="author" rel="author" href="/">Tommas</a>
                    

                    
                        <span class="post-time">
                        Date: <a href="#">February 9, 2018&nbsp;&nbsp;21:44:36</a>
                        </span>
                    
                    
                        <span class="post-category">
                    Category:
                            
                                <a href="/categories/JavaScript/">JavaScript</a>
                            
                        </span>
                    
                </div>
            
        </header>

        <div class="post-content">
            <p><img src="https://s2.loli.net/2023/04/16/a9hylHKAYOnoDQz.jpg"></p>
<p>æˆ‘ä»¬æŸ¥çœ‹äº†æ•°åƒä¸ªé¡¹ç›®çš„æ•°æ®åº“ï¼Œå‘ç°äº† JavaScript ä¸­é¢‘åº¦æœ€é«˜çš„ 10 ç§é”™è¯¯ã€‚æˆ‘ä»¬ä¼šå‘Šè¯‰ä½ ä»€ä¹ˆåŸå› å¯¼è‡´äº†è¿™äº›é”™è¯¯ï¼Œä»¥åŠå¦‚ä½•é˜²æ­¢è¿™äº›é”™è¯¯å‘ç”Ÿã€‚å¦‚æœä½ èƒ½å¤Ÿé¿å…è½å…¥è¿™äº› â€œé™·é˜±â€ï¼Œä½ å°†ä¼šæˆä¸ºä¸€ä¸ªæ›´å¥½çš„å¼€å‘è€…ã€‚</p>
<span id="more"></span>
<blockquote>
<p>åŸæ–‡ï¼š<a target="_blank" rel="noopener" href="https://rollbar.com/blog/top-10-javascript-errors/">https://rollbar.com/blog/top-10-javascript-errors/</a></p>
</blockquote>
<p>æ•°æ®æ‰æ˜¯ç‹é“ï¼Œæˆ‘ä»¬æ”¶é›†å¹¶åˆ†æäº†å‡ºç°é¢‘æ¬¡æ’å‰ 10 çš„ JavaScript é”™è¯¯ã€‚ Rollbar ä¼šæ”¶é›†æ¯ä¸ªé¡¹ç›®çš„æ‰€æœ‰é”™è¯¯ï¼Œå¹¶æ€»ç»“æ¯ä¸ªé”™è¯¯å‘ç”Ÿçš„æ¬¡æ•°ã€‚æˆ‘ä»¬é€šè¿‡æ ¹æ® â€œæŒ‡çº¹â€ï¼ˆrollbar ç”¨åˆ°çš„ä¸€ç§ç®—æ³•ï¼Œè¯¦è§ï¼š<a target="_blank" rel="noopener" href="https://rollbar.com/docs/grouping-algorithm/%EF%BC%89%E5%AF%B9%E9%94%99%E8%AF%AF%E8%BF%9B%E8%A1%8C%E5%88%86%E7%BB%84%E3%80%82%E5%9F%BA%E6%9C%AC%E4%B8%8A%EF%BC%8C%E5%A6%82%E6%9E%9C%E7%AC%AC%E4%BA%8C%E4%B8%AA%E9%94%99%E8%AF%AF%E5%8F%AA%E6%98%AF%E7%AC%AC%E4%B8%80%E4%B8%AA%E9%94%99%E8%AF%AF%E7%9A%84%E9%87%8D%E5%A4%8D%EF%BC%8C%E6%88%91%E4%BB%AC%E4%BC%9A%E6%8A%8A%E4%B8%A4%E4%B8%AA%E9%94%99%E8%AF%AF%E5%88%86%E5%88%B0%E5%90%8C%E4%B8%80%E7%BB%84%E3%80%82%E8%BF%99%E4%BC%9A%E7%BB%99%E7%94%A8%E6%88%B7%E4%B8%80%E4%B8%AA%E5%BE%88%E5%A5%BD%E7%9A%84%E6%A6%82%E6%8B%AC%EF%BC%8C%E8%80%8C%E4%B8%8D%E6%98%AF%E5%83%8F%E5%9C%A8%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6%E4%B8%AD%E7%9C%8B%E5%88%B0%E7%9A%84%E9%82%A3%E6%A0%B7%E7%9B%B4%E6%8E%A5%E4%B8%80%E5%A4%A7%E5%A0%86%E8%AE%A9%E4%BA%BA%E6%84%9F%E8%A7%89%E5%88%B0%E5%8D%81%E5%88%86%E5%8E%8B%E8%BF%AB%E7%9A%84">https://rollbar.com/docs/grouping-algorithm/ï¼‰å¯¹é”™è¯¯è¿›è¡Œåˆ†ç»„ã€‚åŸºæœ¬ä¸Šï¼Œå¦‚æœç¬¬äºŒä¸ªé”™è¯¯åªæ˜¯ç¬¬ä¸€ä¸ªé”™è¯¯çš„é‡å¤ï¼Œæˆ‘ä»¬ä¼šæŠŠä¸¤ä¸ªé”™è¯¯åˆ†åˆ°åŒä¸€ç»„ã€‚è¿™ä¼šç»™ç”¨æˆ·ä¸€ä¸ªå¾ˆå¥½çš„æ¦‚æ‹¬ï¼Œè€Œä¸æ˜¯åƒåœ¨æ—¥å¿—æ–‡ä»¶ä¸­çœ‹åˆ°çš„é‚£æ ·ç›´æ¥ä¸€å¤§å †è®©äººæ„Ÿè§‰åˆ°ååˆ†å‹è¿«çš„</a> dumpã€‚</p>
<p>æˆ‘ä»¬ä¸“æ³¨äºæœ€æœ‰å¯èƒ½å½±å“æ‚¨å’Œæ‚¨çš„ç”¨æˆ·çš„é”™è¯¯ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬é€šè¿‡ç ”ç©¶å„ç§ä¸åŒå…¬å¸çš„é¡¹ç›®é›†æ¥å¯¹äºé”™è¯¯è¿›è¡Œæ’åˆ—ã€‚å¦‚æœæˆ‘ä»¬åªæŸ¥çœ‹æ¯ä¸ªé”™è¯¯å‘ç”Ÿçš„æ€»æ¬¡æ•°ï¼Œé‚£ä¹ˆå®¢æˆ·é‡å¤§çš„çš„é¡¹ç›®äº§ç”Ÿçš„é”™è¯¯å¯èƒ½ä¼šå‹å€’å…¶ä»–é”™è¯¯ï¼Œå¯¼è‡´å®é™…æ”¶é›†åˆ°çš„æ˜¯ä¸å¤§å¤šæ•°è¯»è€…æ— å…³çš„é”™è¯¯æ•°æ®é›†ã€‚</p>
<h3 id="JavaScript-é”™è¯¯-Top-10ï¼š"><a href="#JavaScript-é”™è¯¯-Top-10ï¼š" class="headerlink" title="** JavaScript é”™è¯¯ Top 10ï¼š**"></a>** JavaScript é”™è¯¯ Top 10ï¼š**</h3><p>ä¸ºäº†ä¾¿äºé˜…è¯»ï¼Œæˆ‘ä»¬å°†æ¯ä¸ªé”™è¯¯æè¿°éƒ½ç¼©çŸ­äº†ã€‚æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬æ·±å…¥åˆ°æ¯ä¸€ä¸ªé”™è¯¯ï¼Œæ¥ç¡®å®šä»€ä¹ˆä¼šå¯¼è‡´å®ƒï¼Œä»¥åŠå¦‚ä½•é¿å…åˆ›å»ºå®ƒã€‚</p>
<h3 id="1-Uncaught-TypeError-Cannot-read-property"><a href="#1-Uncaught-TypeError-Cannot-read-property" class="headerlink" title="1. Uncaught TypeError: Cannot read property"></a><strong>1. Uncaught TypeError: Cannot read property</strong></h3><p>å¦‚æœä½ æ˜¯ä¸€ä¸ª JavaScript å¼€å‘äººå‘˜ï¼Œå¯èƒ½ä½ çœ‹åˆ°è¿™ä¸ªé”™è¯¯çš„æ¬¡æ•°æ¯”ä½ æ•¢æ‰¿è®¤çš„è¦å¤šï¼ˆLOLâ€¦ï¼‰ã€‚å½“ä½ è¯»å–ä¸€ä¸ªæœªå®šä¹‰çš„å¯¹è±¡çš„å±æ€§æˆ–è°ƒç”¨å…¶æ–¹æ³•æ—¶ï¼Œè¿™ä¸ªé”™è¯¯ä¼šåœ¨ Chrome ä¸­å‡ºç°ã€‚ æ‚¨å¯ä»¥å¾ˆå®¹æ˜“çš„åœ¨ Chrome å¼€å‘è€…æ§åˆ¶å°ä¸­è¿›è¡Œæµ‹è¯•ï¼ˆå°è¯•ï¼‰ã€‚</p>
<p>å‘ç”Ÿè¿™ç§æƒ…å†µçš„åŸå› å¾ˆå¤šï¼Œä½†å¸¸è§çš„ä¸€ç§æ˜¯åœ¨æ¸²æŸ“ UI ç»„ä»¶æ—¶å¯¹äºçŠ¶æ€çš„åˆå§‹åŒ–æ“ä½œä¸å½“ã€‚</p>
<p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªåœ¨çœŸå®åº”ç”¨ç¨‹åºä¸­å‘ç”Ÿçš„ä¾‹å­ï¼šæˆ‘ä»¬é€‰æ‹© Reactï¼Œä½†è¯¥æƒ…å†µä¹ŸåŒæ ·é€‚ç”¨äº Angularã€Vue æˆ–ä»»ä½•å…¶ä»–æ¡†æ¶ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Quiz</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">  <span class="title function_">componentWillMount</span>(<span class="params"></span>) &#123;</span><br><span class="line">    axios.<span class="title function_">get</span>(<span class="string">&#x27;/thedata&#x27;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;<span class="attr">items</span>: res.<span class="property">data</span>&#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        &#123;this.state.items.map(item =&gt;</span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">&#123;item.id&#125;</span>&gt;</span>&#123;item.name&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        )&#125;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œæœ‰ä¸¤ä»¶é‡è¦çš„äº‹æƒ…è¦å®ç°ï¼š</p>
<ol>
<li>ç»„ä»¶çš„çŠ¶æ€ï¼ˆä¾‹å¦‚ this.stateï¼‰ä» undefined å¼€å§‹ã€‚</li>
<li>å½“å¼‚æ­¥è·å–æ•°æ®æ—¶ï¼Œä¸ç®¡å®ƒæ˜¯åœ¨æ„é€ å‡½æ•°componentWillMountè¿˜æ˜¯componentDidMountä¸­è·å–çš„ï¼Œç»„ä»¶åœ¨æ•°æ®åŠ è½½ä¹‹å‰è‡³å°‘ä¼šå‘ˆç°ä¸€æ¬¡ï¼Œå½“ Quiz ç¬¬ä¸€æ¬¡å‘ˆç°æ—¶ï¼Œthis.state.items æ˜¯æœªå®šä¹‰çš„ã€‚ è¿™åˆæ„å‘³ç€ ItemList å°† items å®šä¹‰ä¸º undefinedï¼Œå¹¶ä¸”åœ¨æ§åˆ¶å°ä¸­å‡ºç°é”™è¯¯ - â€œUncaught TypeError: Cannot read property â€˜mapâ€™ of undefinedâ€ã€‚</li>
</ol>
<p>è¿™å¾ˆå®¹æ˜“è§£å†³ã€‚æœ€ç®€å•çš„æ–¹æ³•ï¼šåœ¨æ„é€ å‡½æ•°ä¸­ç”¨åˆç†çš„é»˜è®¤å€¼æ¥åˆå§‹åŒ– stateã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Quiz</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">  <span class="comment">// Added this:</span></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>(props);</span><br><span class="line">    <span class="comment">// Assign state itself, and a default value for items</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">state</span> = &#123;</span><br><span class="line">      <span class="attr">items</span>: []</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">componentWillMount</span>(<span class="params"></span>) &#123;</span><br><span class="line">    axios.<span class="title function_">get</span>(<span class="string">&#x27;/thedata&#x27;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;<span class="attr">items</span>: res.<span class="property">data</span>&#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        &#123;this.state.items.map(item =&gt;</span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">&#123;item.id&#125;</span>&gt;</span>&#123;item.name&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        )&#125;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­çš„å…·ä½“ä»£ç å¯èƒ½æ˜¯ä¸åŒçš„ï¼Œä½†æˆ‘ä»¬å¸Œæœ›æˆ‘ä»¬å·²ç»ç»™ä½ è¶³å¤Ÿçš„çº¿ç´¢ï¼Œä»¥è§£å†³æˆ–é¿å…åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­å‡ºç°çš„è¿™ä¸ªé—®é¢˜ã€‚å¦‚æœè¿˜æ²¡æœ‰ï¼Œè¯·ç»§ç»­é˜…è¯»ï¼Œå› ä¸ºæˆ‘ä»¬å°†åœ¨ä¸‹é¢è¦†ç›–æ›´å¤šç›¸å…³é”™è¯¯çš„ç¤ºä¾‹ã€‚</p>
<h3 id="2-TypeError-â€˜undefinedâ€™-is-not-an-object"><a href="#2-TypeError-â€˜undefinedâ€™-is-not-an-object" class="headerlink" title="2. TypeError: â€˜undefinedâ€™ is not an object"></a><strong>2. TypeError: â€˜undefinedâ€™ is not an object</strong></h3><p>è¿™æ˜¯åœ¨ Safari ä¸­è¯»å–å±æ€§æˆ–è°ƒç”¨æœªå®šä¹‰å¯¹è±¡ä¸Šçš„æ–¹æ³•æ—¶å‘ç”Ÿçš„é”™è¯¯ã€‚æ‚¨å¯ä»¥åœ¨ Safari Developer Console ä¸­è½»æ¾æµ‹è¯•ã€‚è¿™ä¸ 1 ä¸­æåˆ°çš„ Chrome çš„é”™è¯¯åŸºæœ¬ç›¸åŒï¼Œä½† Safari ä½¿ç”¨äº†ä¸åŒçš„é”™è¯¯æ¶ˆæ¯æç¤ºè¯­ã€‚</p>
<h3 id="3-TypeError-null-is-not-an-object"><a href="#3-TypeError-null-is-not-an-object" class="headerlink" title="3. TypeError: null is not an object"></a><strong>3. TypeError: null is not an object</strong></h3><p>è¿™æ˜¯åœ¨ Safari ä¸­è¯»å–å±æ€§æˆ–è°ƒç”¨ç©ºå¯¹è±¡ä¸Šçš„æ–¹æ³•æ—¶å‘ç”Ÿçš„é”™è¯¯ã€‚ æ‚¨å¯ä»¥åœ¨ Safari Developer Console ä¸­è½»æ¾æµ‹è¯•ã€‚</p>
<p>æœ‰è¶£çš„æ˜¯ï¼Œåœ¨ JavaScript ä¸­ï¼Œnull å’Œ undefined æ˜¯ä¸ä¸€æ ·çš„ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬çœ‹åˆ°ä¸¤ä¸ªä¸åŒçš„é”™è¯¯ä¿¡æ¯ã€‚undefined é€šå¸¸æ˜¯ä¸€ä¸ªå°šæœªåˆ†é…çš„å˜é‡ï¼Œè€Œ null è¡¨ç¤ºè¯¥å€¼ä¸ºç©ºã€‚ è¦éªŒè¯å®ƒä»¬ä¸ç›¸ç­‰ï¼Œè¯·å°è¯•ä½¿ç”¨ä¸¥æ ¼çš„ç›¸ç­‰è¿ç®—ç¬¦ &#x3D;&#x3D;&#x3D;ï¼š</p>
<p>åœ¨ç°å®ä¸–ç•Œçš„ä¾‹å­ä¸­ï¼Œè¿™ç§é”™è¯¯å¯èƒ½å‘ç”Ÿçš„ä¸€ç§åœºæ™¯æ˜¯ï¼šå¦‚æœåœ¨åŠ è½½å…ƒç´ ä¹‹å‰å°è¯•åœ¨ JavaScript ä¸­ä½¿ç”¨å…ƒç´ ã€‚ å› ä¸º DOM API å¯¹äºç©ºç™½çš„å¯¹è±¡å¼•ç”¨è¿”å›å€¼ä¸º nullã€‚</p>
<p>ä»»ä½•æ‰§è¡Œå’Œå¤„ç† DOM å…ƒç´ çš„ JS ä»£ç éƒ½åº”è¯¥åœ¨åˆ›å»º DOM å…ƒç´ ä¹‹åæ‰§è¡Œã€‚ JS ä»£ç æŒ‰ç…§ HTML ä¸­çš„è§„å®šä»ä¸Šåˆ°ä¸‹è¿›è¡Œè§£é‡Šã€‚ æ‰€ä»¥ï¼Œå¦‚æœ DOM å…ƒç´ ä¹‹å‰æœ‰ä¸€ä¸ªæ ‡ç­¾ï¼Œè„šæœ¬æ ‡ç­¾å†…çš„ JS ä»£ç å°†åœ¨æµè§ˆå™¨è§£æ HTML é¡µé¢æ—¶æ‰§è¡Œã€‚ å¦‚æœåœ¨åŠ è½½è„šæœ¬ä¹‹å‰å°šæœªåˆ›å»º DOM å…ƒç´ ï¼Œåˆ™ä¼šå‡ºç°æ­¤é”™è¯¯ã€‚</p>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ·»åŠ ä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¿™ä¸ªç›‘å¬å™¨ä¼šåœ¨é¡µé¢å‡†å¤‡å¥½çš„æ—¶å€™é€šçŸ¥æˆ‘ä»¬ã€‚ ä¸€æ—¦ addEventListenerè¢«è§¦å‘ï¼Œinit() æ–¹æ³•å°±å¯ä»¥ä½¿ç”¨ DOM å…ƒç´ ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">init</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> myButton = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;myButton&quot;</span>);</span><br><span class="line">    <span class="keyword">var</span> myTextfield = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;myTextfield&quot;</span>);</span><br><span class="line">    myButton.<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> userName = myTextfield.<span class="property">value</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;readystatechange&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="property">readyState</span> === <span class="string">&quot;complete&quot;</span>) &#123;</span><br><span class="line">      <span class="title function_">init</span>();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;myTextfield&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;Type your name&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">id</span>=<span class="string">&quot;myButton&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Go&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="4-unknown-Script-error"><a href="#4-unknown-Script-error" class="headerlink" title="4. (unknown): Script error"></a><strong>4. (unknown): Script error</strong></h3><p>å½“æœªæ•è·çš„ JavaScript é”™è¯¯ï¼ˆé€šè¿‡window.onerrorå¤„ç†ç¨‹åºå¼•å‘çš„é”™è¯¯ï¼Œè€Œä¸æ˜¯æ•è·åœ¨try-catchä¸­ï¼‰è¢«æµè§ˆå™¨çš„è·¨åŸŸç­–ç•¥é™åˆ¶æ—¶ï¼Œä¼šäº§ç”Ÿè¿™ç±»çš„è„šæœ¬é”™è¯¯ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨å°†æ‚¨çš„ JavaScript ä»£ç æ‰˜ç®¡åœ¨ CDN ä¸Šï¼Œåˆ™ä»»ä½•æœªè¢«æ•è·çš„é”™è¯¯å°†è¢«æŠ¥å‘Šä¸ºâ€œè„šæœ¬é”™è¯¯â€ è€Œä¸æ˜¯åŒ…å«æœ‰ç”¨çš„å †æ ˆä¿¡æ¯ã€‚è¿™æ˜¯ä¸€ç§æµè§ˆå™¨å®‰å…¨æªæ–½ï¼Œæ—¨åœ¨é˜²æ­¢è·¨åŸŸä¼ é€’æ•°æ®ï¼Œå¦åˆ™å°†ä¸å…è®¸è¿›è¡Œé€šä¿¡ã€‚</p>
<p>è¦è·å¾—çœŸæ­£çš„é”™è¯¯æ¶ˆæ¯ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p>
<ol>
<li>å‘é€ â€˜Access-Control-Allow-Originâ€™ å¤´éƒ¨</li>
</ol>
<p>å°† Access-Control-Allow-Origin æ ‡å¤´è®¾ç½®ä¸º * è¡¨ç¤ºå¯ä»¥ä»ä»»ä½•åŸŸæ­£ç¡®è®¿é—®èµ„æºã€‚ å¦‚æœ‰å¿…è¦ï¼Œæ‚¨å¯ä»¥å°†åŸŸæ›¿æ¢ä¸ºæ‚¨çš„åŸŸï¼šä¾‹å¦‚ï¼ŒAccess-Control-Allow-Originï¼š<a target="_blank" rel="noopener" href="http://www.example.com./">www.example.comã€‚</a> ä½†æ˜¯ï¼Œå¤„ç†å¤šä¸ªåŸŸä¼šå˜å¾—æ£˜æ‰‹ï¼Œå¦‚æœä½ ä½¿ç”¨ CDNï¼Œå¯èƒ½ç”±æ­¤äº§ç”Ÿæ›´å¤šçš„ç¼“å­˜é—®é¢˜ä¼šè®©ä½ æ„Ÿè§‰åˆ°è¿™ç§åŠªåŠ›å¹¶ä¸å€¼å¾—ã€‚ åœ¨è¿™é‡Œçœ‹åˆ°æ›´å¤šã€‚</p>
<p>è¿™é‡Œæœ‰ä¸€äº›å…³äºå¦‚ä½•åœ¨å„ç§ç¯å¢ƒä¸­è®¾ç½®è¿™ä¸ªå¤´æ–‡ä»¶çš„ä¾‹å­ï¼š</p>
<p>Apache</p>
<p>åœ¨ JavaScript æ–‡ä»¶æ‰€åœ¨çš„æ–‡ä»¶å¤¹ä¸­ï¼Œä½¿ç”¨ä»¥ä¸‹å†…å®¹åˆ›å»ºä¸€ä¸ª .htaccess æ–‡ä»¶ï¼š</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Header</span> <span class="keyword">add</span> <span class="keyword">Access</span>-Control-Allow-Origin &quot;*&quot;</span><br></pre></td></tr></table></figure>

<p>Nginx</p>
<p>å°† add_header æŒ‡ä»¤æ·»åŠ åˆ°æä¾› JavaScript æ–‡ä»¶çš„ä½ç½®å—ä¸­ï¼š</p>
<figure class="highlight node-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span> <span class="language-javascript">location ~ ^<span class="regexp">/assets/</span> &#123;</span></span><br><span class="line"><span class="meta prompt_">&gt;</span></span><br><span class="line"><span class="meta prompt_">&gt;</span> <span class="language-javascript">    add_header <span class="title class_">Access</span>-<span class="title class_">Control</span>-<span class="title class_">Allow</span>-<span class="title class_">Origin</span> *;</span></span><br><span class="line"><span class="meta prompt_">&gt;</span> <span class="language-javascript">&#125;</span></span><br></pre></td></tr></table></figure>
<p>HAProxy</p>
<p>å°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ°æ‚¨ä¸º JavaScript æ–‡ä»¶æä¾›èµ„æºæœåŠ¡çš„åç«¯ï¼š</p>
<figure class="highlight node-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span> <span class="language-javascript">rspadd <span class="title class_">Access</span>-<span class="title class_">Control</span>-<span class="title class_">Allow</span>-<span class="title class_">Origin</span>: *</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>åœ¨ &lt;script ä¸­è®¾ç½® crossorigin&#x3D;â€anonymousâ€</li>
</ol>
<p>åœ¨æ‚¨çš„ HTML ä»£ç ä¸­ï¼Œå¯¹äºæ‚¨è®¾ç½®äº†Access-Control-Allow-Origin header çš„æ¯ä¸ªè„šæœ¬ï¼Œåœ¨ script æ ‡ç­¾ä¸Šè®¾ç½®crossorigin &#x3D;â€œanonymousâ€ã€‚åœ¨è„šæœ¬æ ‡è®°ä¸­æ·»åŠ  crossorigin å±æ€§ä¹‹å‰ï¼Œè¯·ç¡®ä¿éªŒè¯ä¸Šè¿° header æ­£ç¡®å‘é€ã€‚ åœ¨ Firefox ä¸­ï¼Œå¦‚æœå­˜åœ¨crossoriginå±æ€§ï¼Œä½†Access-Control-Allow-Originå¤´ä¸å­˜åœ¨ï¼Œåˆ™è„šæœ¬å°†ä¸ä¼šæ‰§è¡Œã€‚</p>
<h3 id="5-TypeError-Object-doesnâ€™t-support-property"><a href="#5-TypeError-Object-doesnâ€™t-support-property" class="headerlink" title="5. TypeError: Object doesnâ€™t support property"></a><strong>5. TypeError: Object doesnâ€™t support property</strong></h3><p>è¿™æ˜¯æ‚¨åœ¨è°ƒç”¨æœªå®šä¹‰çš„æ–¹æ³•æ—¶å‘ç”Ÿåœ¨ IE ä¸­çš„é”™è¯¯ã€‚ æ‚¨å¯ä»¥åœ¨ IE å¼€å‘è€…æ§åˆ¶å°ä¸­è¿›è¡Œæµ‹è¯•ã€‚</p>
<p><img src="http://ovi3ob9p4.bkt.clouddn.com/js/js006.jpg" alt="img"></p>
<p>è¿™ç›¸å½“äº Chrome ä¸­çš„ â€œTypeErrorï¼šâ€undefinedâ€œ is not a functionâ€ é”™è¯¯ã€‚ æ˜¯çš„ï¼Œå¯¹äºç›¸åŒçš„é€»è¾‘é”™è¯¯ï¼Œä¸åŒçš„æµè§ˆå™¨å¯èƒ½å…·æœ‰ä¸åŒçš„é”™è¯¯æ¶ˆæ¯ã€‚</p>
<p>å¯¹äºä½¿ç”¨ JavaScript å‘½åç©ºé—´çš„ Web åº”ç”¨ç¨‹åºï¼Œè¿™æ˜¯ä¸€ä¸ª IE læµè§ˆå™¨çš„å¸¸è§çš„é—®é¢˜ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ99.9ï¼… çš„åŸå› æ˜¯ IE æ— æ³•å°†å½“å‰åç§°ç©ºé—´å†…çš„æ–¹æ³•ç»‘å®šåˆ° this å…³é”®å­—ã€‚ ä¾‹å¦‚ï¼šå¦‚æœä½  JS ä¸­æœ‰ä¸€ä¸ªå‘½åç©ºé—´ Rollbar ä»¥åŠæ–¹æ³• isAwesome ã€‚ é€šå¸¸ï¼Œå¦‚æœæ‚¨åœ¨ Rollbar å‘½åç©ºé—´å†…ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ä»¥ä¸‹è¯­æ³•è°ƒç”¨isAwesomeæ–¹æ³•ï¼š</p>
<figure class="highlight node-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span> <span class="language-javascript"><span class="variable language_">this</span>.<span class="title function_">isAwesome</span>();</span></span><br></pre></td></tr></table></figure>

<p>Chromeï¼ŒFirefox å’Œ Opera ä¼šæ¬£ç„¶æ¥å—è¿™ä¸ªè¯­æ³•ã€‚ å¦ä¸€æ–¹é¢ IEï¼Œä¸ä¼šã€‚ å› æ­¤ï¼Œä½¿ç”¨ JS å‘½åç©ºé—´æ—¶æœ€å®‰å…¨çš„é€‰æ‹©æ˜¯å§‹ç»ˆä»¥å®é™…åç§°ç©ºé—´ä½œä¸ºå‰ç¼€ã€‚</p>
<figure class="highlight node-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span> <span class="language-javascript"><span class="title class_">Rollbar</span>.<span class="title function_">isAwesome</span>();</span></span><br></pre></td></tr></table></figure>

<h3 id="6-TypeError-â€˜undefinedâ€™-is-not-a-function"><a href="#6-TypeError-â€˜undefinedâ€™-is-not-a-function" class="headerlink" title="6. TypeError: â€˜undefinedâ€™ is not a function"></a><strong>6. TypeError: â€˜undefinedâ€™ is not a function</strong></h3><p>å½“æ‚¨è°ƒç”¨æœªå®šä¹‰çš„å‡½æ•°æ—¶ï¼Œè¿™æ˜¯ Chrome ä¸­äº§ç”Ÿçš„é”™è¯¯ã€‚ æ‚¨å¯ä»¥åœ¨ Chrome å¼€å‘äººå‘˜æ§åˆ¶å°å’Œ Mozilla Firefox å¼€å‘äººå‘˜æ§åˆ¶å°ä¸­è¿›è¡Œæµ‹è¯•ã€‚</p>
<p><img src="http://ovi3ob9p4.bkt.clouddn.com/js/js007.jpg" alt="img"></p>
<p>éšç€ JavaScript ç¼–ç æŠ€æœ¯å’Œè®¾è®¡æ¨¡å¼åœ¨è¿‡å»å‡ å¹´ä¸­å˜å¾—è¶Šæ¥è¶Šå¤æ‚ï¼Œå›è°ƒå’Œå…³é—­ä¸­çš„è‡ªå¼•ç”¨èŒƒå›´ä¹Ÿç›¸åº”å¢åŠ ï¼Œè¿™æ˜¯è¿™ç§&#x2F;é‚£ç§æ··æ·†çš„ç›¸å½“å¸¸è§çš„æ¥æºã€‚</p>
<p>è€ƒè™‘è¿™ä¸ªä»£ç ç‰‡æ®µï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">testFunction</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">clearLocalStorage</span>();</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">timer</span> = <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">clearBoard</span>();    <span class="comment">// what is &quot;this&quot;?</span></span><br><span class="line">  &#125;, <span class="number">0</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œä¸Šé¢çš„ä»£ç ä¼šå¯¼è‡´ä»¥ä¸‹é”™è¯¯ï¼šâ€œUncaught TypeErrorï¼šundefined is not a functionâ€ã€‚ ä½ å¾—åˆ°ä¸Šè¿°é”™è¯¯çš„åŸå› æ˜¯ï¼Œå½“ä½ è°ƒç”¨setTimeout()æ—¶ï¼Œå®é™…ä¸Šæ˜¯è°ƒç”¨window.setTimeout()ã€‚ å› æ­¤ï¼Œåœ¨çª—å£å¯¹è±¡çš„ä¸Šä¸‹æ–‡ä¸­å®šä¹‰äº†ä¸€ä¸ªä¼ é€’ç»™setTimeout()çš„åŒ¿åå‡½æ•°ï¼Œè¯¥å‡½æ•°æ²¡æœ‰clearBoard()æ–¹æ³•ã€‚</p>
<p>ä¸€ä¸ªä¼ ç»Ÿçš„ï¼Œæ—§æµè§ˆå™¨å…¼å®¹çš„è§£å†³æ–¹æ¡ˆæ˜¯ç®€å•åœ°å°†æ‚¨çš„ this ä¿å­˜åœ¨ä¸€ä¸ªå˜é‡ï¼Œç„¶åå¯ä»¥ç”±é—­åŒ…ç»§æ‰¿ã€‚ ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">testFunction</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">clearLocalStorage</span>();</span><br><span class="line">  <span class="keyword">var</span> self = <span class="variable language_">this</span>;   <span class="comment">// save reference to &#x27;this&#x27;, while it&#x27;s still this!</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">timer</span> = <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    self.<span class="title function_">clearBoard</span>();  </span><br><span class="line">  &#125;, <span class="number">0</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…ï¼Œåœ¨è¾ƒæ–°çš„æµè§ˆå™¨ä¸­ï¼Œå¯ä»¥ä½¿ç”¨bind()æ–¹æ³•ä¼ é€’é€‚å½“çš„å¼•ç”¨ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">testFunction</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">clearLocalStorage</span>();</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">timer</span> = <span class="built_in">setTimeout</span>(<span class="variable language_">this</span>.<span class="property">reset</span>.<span class="title function_">bind</span>(<span class="variable language_">this</span>), <span class="number">0</span>);  <span class="comment">// bind to &#x27;this&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">testFunction</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">clearBoard</span>();    <span class="comment">//back in the context of the right &#x27;this&#x27;!</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="7-Uncaught-RangeError-Maximum-call-stack"><a href="#7-Uncaught-RangeError-Maximum-call-stack" class="headerlink" title="7. Uncaught RangeError: Maximum call stack"></a><strong>7. Uncaught RangeError: Maximum call stack</strong></h3><p>è¿™æ˜¯ Chrome åœ¨ä¸€äº›æƒ…å†µä¸‹ä¼šå‘ç”Ÿçš„é”™è¯¯ã€‚ ä¸€ä¸ªæ˜¯å½“ä½ è°ƒç”¨ä¸€ä¸ªä¸ç»ˆæ­¢çš„é€’å½’å‡½æ•°ã€‚æ‚¨å¯ä»¥åœ¨ Chrome å¼€å‘è€…æ§åˆ¶å°ä¸­è¿›è¡Œæµ‹è¯•ã€‚</p>
<p><img src="http://ovi3ob9p4.bkt.clouddn.com/js/js007.jpg" alt="img"></p>
<p>æ­¤å¤–ï¼Œå¦‚æœæ‚¨å°†å€¼ä¼ é€’ç»™è¶…å‡ºèŒƒå›´çš„å‡½æ•°ï¼Œä¹Ÿå¯èƒ½ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µã€‚ è®¸å¤šå‡½æ•°åªæ¥å—å…¶è¾“å…¥å€¼çš„ç‰¹å®šèŒƒå›´çš„æ•°å­—ã€‚ ä¾‹å¦‚ï¼šNumber.toExponential(digits) å’Œ Number.toFixed(digits) æ¥å— 0 åˆ° 20 çš„æ•°å­—ï¼ŒNumber.toPrecision(digits) æ¥å— 1 åˆ° 21 çš„æ•°å­—ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">4294967295</span>);  <span class="comment">//OK</span></span><br><span class="line"><span class="keyword">var</span> b = <span class="keyword">new</span> <span class="title class_">Array</span>(-<span class="number">1</span>); <span class="comment">//range error</span></span><br><span class="line"><span class="keyword">var</span> num = <span class="number">2.555555</span>;</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">writeln</span>(num.<span class="title function_">toExponential</span>(<span class="number">4</span>));  <span class="comment">//OK</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">writeln</span>(num.<span class="title function_">toExponential</span>(-<span class="number">2</span>)); <span class="comment">//range error!</span></span><br><span class="line">num = <span class="number">2.9999</span>;</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">writeln</span>(num.<span class="title function_">toFixed</span>(<span class="number">2</span>));   <span class="comment">//OK</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">writeln</span>(num.<span class="title function_">toFixed</span>(<span class="number">25</span>));  <span class="comment">//range error!</span></span><br><span class="line">num = <span class="number">2.3456</span>;</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">writeln</span>(num.<span class="title function_">toPrecision</span>(<span class="number">1</span>));   <span class="comment">//OK</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">writeln</span>(num.<span class="title function_">toPrecision</span>(<span class="number">22</span>));  <span class="comment">//range error!</span></span><br></pre></td></tr></table></figure>

<h3 id="8-TypeError-Cannot-read-property-â€˜lengthâ€™"><a href="#8-TypeError-Cannot-read-property-â€˜lengthâ€™" class="headerlink" title="8. TypeError: Cannot read property â€˜lengthâ€™"></a><strong>8. TypeError: Cannot read property â€˜lengthâ€™</strong></h3><p>è¿™æ˜¯ Chrome ä¸­å‘ç”Ÿçš„é”™è¯¯ï¼Œå› ä¸ºè¯»å–æœªå®šä¹‰å˜é‡çš„é•¿åº¦å±æ€§ã€‚ æ‚¨å¯ä»¥åœ¨ Chrome å¼€å‘è€…æ§åˆ¶å°ä¸­è¿›è¡Œæµ‹è¯•ã€‚</p>
<p>æ‚¨é€šå¸¸ä¼šåœ¨æ•°ç»„ä¸­æ‰¾åˆ°å®šä¹‰çš„é•¿åº¦ï¼Œä½†æ˜¯å¦‚æœæ•°ç»„æœªåˆå§‹åŒ–æˆ–è€…å˜é‡åç§°åœ¨å¦ä¸€ä¸ªä¸Šä¸‹æ–‡ä¸­éšè—ï¼Œåˆ™å¯èƒ½ä¼šé‡åˆ°æ­¤é”™è¯¯ã€‚è®©æˆ‘ä»¬ç”¨ä¸‹é¢çš„ä¾‹å­æ¥ç†è§£è¿™ä¸ªé”™è¯¯ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> testArray = [<span class="string">&quot;Test&quot;</span>];</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">testFunction</span>(<span class="params">testArray</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; testArray.<span class="property">length</span>; i++) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(testArray[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">testFunction</span>();</span><br></pre></td></tr></table></figure>

<p>å½“ä½ ç”¨å‚æ•°å£°æ˜ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œè¿™äº›å‚æ•°å˜æˆäº†å‡½æ•°ä½œç”¨åŸŸå†…çš„æœ¬åœ°å‚æ•°ã€‚è¿™æ„å‘³ç€å³ä½¿ä½ å‡½æ•°å¤–æœ‰åä¸º testArray çš„å˜é‡ï¼Œåœ¨ä¸€ä¸ªå‡½æ•°ä¸­å…·æœ‰ç›¸åŒåå­—çš„å‚æ•°ä¹Ÿä¼šè¢«è§†ä¸ºæœ¬åœ°å‚æ•°ã€‚</p>
<p>æ‚¨æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥è§£å†³æ‚¨çš„é—®é¢˜ï¼š</p>
<ol>
<li>åˆ é™¤å‡½æ•°å£°æ˜è¯­å¥ä¸­çš„å‚æ•°ï¼ˆäº‹å®ä¸Šä½ æƒ³è®¿é—®é‚£äº›å£°æ˜åœ¨å‡½æ•°ä¹‹å¤–çš„å˜é‡ï¼Œæ‰€ä»¥ä½ ä¸éœ€è¦å‡½æ•°çš„å‚æ•°ï¼‰ï¼š</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> testArray = [<span class="string">&quot;Test&quot;</span>];</span><br><span class="line"><span class="comment">/* Precondition: defined testArray outside of a function */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">testFunction</span>(<span class="params"><span class="comment">/* No params */</span></span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; testArray.<span class="property">length</span>; i++) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(testArray[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">testFunction</span>();</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>ç”¨å£°æ˜çš„æ•°ç»„è°ƒç”¨è¯¥å‡½æ•°ï¼š</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> testArray = [<span class="string">&quot;Test&quot;</span>];</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">testFunction</span>(<span class="params">testArray</span>) &#123;</span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; testArray.<span class="property">length</span>; i++) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(testArray[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">testFunction</span>(testArray);</span><br></pre></td></tr></table></figure>

<h3 id="9-Uncaught-TypeError-Cannot-set-property"><a href="#9-Uncaught-TypeError-Cannot-set-property" class="headerlink" title="9. Uncaught TypeError: Cannot set property"></a><strong>9. Uncaught TypeError: Cannot set property</strong></h3><p>å½“æˆ‘ä»¬å°è¯•è®¿é—®ä¸€ä¸ªæœªå®šä¹‰çš„å˜é‡æ—¶ï¼Œå®ƒæ€»æ˜¯è¿”å› undefinedï¼Œæˆ‘ä»¬ä¸èƒ½è·å–æˆ–è®¾ç½®ä»»ä½•æœªå®šä¹‰çš„å±æ€§ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåº”ç”¨ç¨‹åºå°†æŠ›å‡º â€œUncaught TypeError: Cannot set propertyâ€ã€‚</p>
<p>ä¾‹å¦‚ï¼Œåœ¨ Chrome æµè§ˆå™¨ä¸­ï¼š</p>
<p>å¦‚æœæµ‹è¯•å¯¹è±¡ä¸å­˜åœ¨ï¼Œé”™è¯¯å°†ä¼šæŠ›å‡º â€œUncaught TypeErrorUncaught TypeError: Cannot set propertyâ€ã€‚</p>
<p><strong>10. ReferenceError: event is not defined</strong></p>
<p>å½“æ‚¨å°è¯•è®¿é—®æœªå®šä¹‰çš„å˜é‡æˆ–è¶…å‡ºå½“å‰èŒƒå›´çš„å˜é‡æ—¶ï¼Œä¼šå¼•å‘æ­¤é”™è¯¯ã€‚ æ‚¨å¯ä»¥åœ¨ Chrome æµè§ˆå™¨ä¸­è½»æ¾æµ‹è¯•ã€‚</p>
<p><img src="http://ovi3ob9p4.bkt.clouddn.com/js/js010.jpg" alt="img"></p>
<p>å¦‚æœåœ¨ä½¿ç”¨äº‹ä»¶å¤„ç†ç³»ç»Ÿæ—¶é‡åˆ°æ­¤é”™è¯¯ï¼Œè¯·ç¡®ä¿ä½¿ç”¨ä¼ å…¥çš„äº‹ä»¶å¯¹è±¡ä½œä¸ºå‚æ•°ã€‚åƒ IE è¿™æ ·çš„æ—§æµè§ˆå™¨æä¾›äº†ä¸€ä¸ªå…¨å±€å˜é‡äº‹ä»¶ï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒã€‚åƒ jQuery è¿™æ ·çš„åº“è¯•å›¾è§„èŒƒåŒ–è¿™ç§è¡Œä¸ºã€‚å°½ç®¡å¦‚æ­¤ï¼Œæœ€å¥½ä½¿ç”¨ä¼ å…¥äº‹ä»¶å¤„ç†å‡½æ•°çš„å‡½æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">myFunction</span>(<span class="params">event</span>) &#123;</span><br><span class="line">    event = event.<span class="property">which</span> || event.<span class="property">keyCode</span>;</span><br><span class="line">    <span class="keyword">if</span>(event.<span class="property">keyCode</span>===<span class="number">13</span>)&#123;</span><br><span class="line">       <span class="title function_">alert</span>(event.<span class="property">keyCode</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a><strong>ç»“è®º</strong></h3><p>æˆ‘ä»¬å¸Œæœ›ä½ å­¦åˆ°äº†æ–°çš„ä¸œè¥¿ï¼Œå¯ä»¥é¿å…å°†æ¥çš„é”™è¯¯ï¼Œæˆ–è€…æœ¬æŒ‡å—å¸®åŠ©ä½ è§£å†³äº†å¤´ç—›çš„é—®é¢˜ã€‚</p>
<p>å°½ç®¡å¦‚æ­¤ï¼Œå³ä½¿æœ‰æœ€ä½³å®è·µï¼Œç”Ÿäº§ä¸­ä¹Ÿä¼šå‡ºç°æ„æƒ³ä¸åˆ°çš„é”™è¯¯ã€‚èƒ½å¤ŸæŸ¥çœ‹å½±å“ç”¨æˆ·çš„é”™è¯¯ï¼Œå¹¶æ‹¥æœ‰å¿«é€Ÿè§£å†³é—®é¢˜çš„å¥½å·¥å…·ï¼Œè¿™ä¸€ç‚¹éå¸¸é‡è¦ã€‚æ¨è Rollbarã€‚</p>

        </div>

        
            <section class="post-copyright">
                
                    <p class="copyright-item">
                        <span>Author:</span>
                        <span>Tommas</span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>Permalink:</span>
                        <span><a href="https://m.is-local.org/post/2018022144.htm">https://m.is-local.org/post/2018022144.htm</a></span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>License:</span>
                        <span>Â© 2024 <a target="_blank" rel="noopener" href="http://creativecommons.org/licenses/by-nc/4.0/">CC-BY-NC-4.0</a> LICENSE</span>
                    </p>
                
                

            </section>
        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                    
                        <a href="/tags/JavaScript/">ğŸ·ï¸ JavaScript</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">back</a>
                <span>Â· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
                <a class="prev" rel="prev" href="/post/2018021341.htm">ç©·</a>
            
            
            <a class="next" rel="next" href="/post/2018022244.htm">è®¾è®¡æ¨¡å¼ï¼ˆDesign patternï¼‰ç®€ä»‹</a>
            
        </section>


    </article>
</div>

            </div>
            <footer id="footer" class="footer">
    <div class="copyright">
      <span>Â© 2025 Tommas</span> 
    </div>
</footer>

    </div>
</body>

</html>
